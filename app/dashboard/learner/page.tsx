'use client'; import Card from '../../../components/Card'; import { useState } from 'react'; export default function Learner(){ const [showAd,setShowAd]=useState(true); return (<div className='min-h-screen bg-gray-50 p-8'><div className='max-w-5xl mx-auto'><h2 className='text-2xl font-semibold mb-4'>Learner Dashboard</h2><div className='grid grid-cols-1 lg:grid-cols-3 gap-6'><Card title='Readiness'><div className='h-44 flex items-center justify-center'><div className='text-4xl font-bold'>72%</div></div></Card><Card title='Skills'><ul className='list-disc ml-5'><li>SQL — 82%</li><li>Python — 55%</li></ul></Card><Card title='Roadmap'><ol className='list-decimal ml-5'><li>SQL basics (done)</li><li>Python (in progress)</li></ol></Card></div><div className='mt-6'><Card title='Sponsored'>{showAd? (<div className='p-4 bg-gray-100 rounded text-center'><div>Ad Placeholder (Google AdSense)</div><div className='text-sm text-gray-600'>Configure ADSENSE_CLIENT_ID to enable</div><div className='mt-3'><button className='px-3 py-1 bg-blue-600 text-white rounded mr-2' onClick={()=>{fetch('/api/ads/log',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({userId:null,adId:'demo_ad',event:'shown'})})}}>Impression</button><button className='px-3 py-1 bg-blue-500 text-white rounded' onClick={()=>setShowAd(false)}>Close Ad</button></div></div>) : <div>Ad closed</div>}</Card></div><div className='mt-6'><Card title='Upgrade'><div><button className='px-4 py-2 bg-green-600 text-white rounded' onClick={async()=>{const r=await fetch('/api/payment/create',{method:'POST'}); alert((await r.json()).message);}}>Demo Checkout (Stripe)</button><div className='text-xs text-gray-500 mt-2'>Stripe demo mode — configure STRIPE_SECRET_KEY</div></div></Card></div></div></div>); }
